/*!
 * SAP UI development toolkit for HTML5 (SAPUI5/OpenUI5)
 * (c) Copyright 2009-2015 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define('sap/ui/qunit/QUnitUtils',['jquery.sap.global'],function(q){"use strict";q.sap.getObject("sap.ui.test.qunit",0);(function(){if(typeof QUnit!=="undefined"){var p=q.sap.getUriParameters();QUnit.equals=window.equals=window.equal;var t=p.get("sap-ui-qunittimeout");if(!t||isNaN(t)){t="30000";}QUnit.config.testTimeout=parseInt(t,10);QUnit.config.reorder=false;if(QUnit.urlParams&&QUnit.urlParams.hidepassed){QUnit.config.hidepassed=true;}if(window["sap-ui-qunit-coverage"]!=="client"&&/x|true/i.test(q.sap.getUriParameters().get("coverage-report"))){QUnit.done(function(f,a){if(window._$blanket&&document.addEventListener){var Q=window.QUnit;window.QUnit=undefined;q.sap.require("sap.ui.thirdparty.blanket");window.QUnit=Q;window.blanket.report({});}});}if(sap.ui.Device.browser.phantomJS){var $=q.fn.is;q.fn.is=function(s){if(s===":focus"){return this.get(0)===document.activeElement;}return $.apply(this,arguments);};}}}());window.qutils=sap.ui.test.qunit;sap.ui.test.qunit.delayTestStart=function(d){QUnit.config.autostart=false;if(d){window.setTimeout(function(){QUnit.start();},d);}else{q(function(){QUnit.start();});}};sap.ui.test.qunit.triggerEvent=function(e,t,p){var a=q.Event(e);if(p){for(var x in p){a[x]=p[x];}}if(typeof(t)=="string"){t=q.sap.domById(t);}q(t).trigger(a);};sap.ui.test.qunit.triggerTouchEvent=function(e,t,p){if(typeof(t)=="string"){t=q.sap.domById(t);}var T=q(t);var E=q.Event(e);E.originalEvent={};E.target=t;if(p){for(var x in p){E[x]=p[x];E.originalEvent[x]=p[x];}}var o=T.control(0);if(o&&o["on"+e]){o["on"+e].apply(o,[E]);}};sap.ui.test.qunit.triggerKeyEvent=function(e,t,k,s,a,c){var p={};p.keyCode=isNaN(k)?q.sap.KeyCodes[k]:k;p.which=p.keyCode;p.shiftKey=s;p.altKey=a;p.metaKey=c;p.ctrlKey=c;sap.ui.test.qunit.triggerEvent(e,t,p);};sap.ui.test.qunit.triggerKeydown=function(t,k,s,a,c){sap.ui.test.qunit.triggerKeyEvent("keydown",t,k,s,a,c);};sap.ui.test.qunit.triggerKeyup=function(t,k,s,a,c){sap.ui.test.qunit.triggerKeyEvent("keyup",t,k,s,a,c);};sap.ui.test.qunit.triggerKeyboardEvent=function(t,k,s,a,c){sap.ui.test.qunit.triggerKeydown(t,k,s,a,c);};sap.ui.test.qunit.triggerKeypress=function(t,c,s,a,C){var _=c&&c.toUpperCase();if(q.sap.KeyCodes[_]===null){ok(false,"Invalid character for triggerKeypress: '"+c+"'");}var b=c.charCodeAt(0);var p={};p.charCode=b;p.which=b;p.shiftKey=!!s;p.altKey=!!a;p.metaKey=!!C;p.ctrlKey=!!C;sap.ui.test.qunit.triggerEvent("keypress",t,p);};sap.ui.test.qunit.triggerCharacterInput=function(i,c){sap.ui.test.qunit.triggerKeypress(i,c);if(typeof(i)=="string"){i=q.sap.domById(i);}var I=q(i);I.val(I.val()+c);};sap.ui.test.qunit.triggerMouseEvent=function(t,e,o,O,p,P,b){var a={};a.offsetX=o;a.offsetY=O;a.pageX=p;a.pageY=P;if(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<=8){switch(b){case 0:a.button=1;break;case 1:a.button=0;break;default:a.button=b;}}else{a.button=b;}sap.ui.test.qunit.triggerEvent(e,t,a);};(function(){var F={'normal':400,'bold':700};q.fn.extend({_sapTest_dataEvents:function(){var e=this[0];return e?q._data(e,"events"):null;},_sapTest_cssFontWeight:function(){var v=this.css("font-weight");return v?F[v]||v:v;}});}());(function(){function f(m){q.sap.log.info(m);}var M={"boolean":[false,true],"int":[0,1,5,10,100],"float":[NaN,0.0,0.01,3.14,97.7],"string":["","some","very long otherwise not normal and so on whatever","<"+"script>alert('XSS attack!');</"+"script>"]};var D=q.sap.newObject(M);function g(o){return o&&!(o instanceof Array)?[o]:o;}sap.ui.test.qunit.resetDefaultTestValues=function(t){if(typeof t==="string"){delete D[t];}else{D=q.sap.newObject(M);}};sap.ui.test.qunit.setDefaultTestValues=function(t,v){if(typeof t==="string"){D[t]=g(v);}else if(typeof t==="object"){q.extend(D,t);}};sap.ui.test.qunit.createSettingsDomain=function(c,p){function a(t){if(D[t]){return D[t];}try{q.sap.require(t);}catch(e){}var T=q.sap.getObject(t);if(!(T instanceof sap.ui.base.DataType)){var r=[];for(var n in T){r.push(T[n]);}D[t]=r;return r;}return[];}var c=new c().getMetadata().getClass();var p=p||{};var b={};var P=c.getMetadata().getAllProperties();for(var d in P){b[d]=g(p[d])||a(P[d].type);}return b;};sap.ui.test.qunit.genericTest=function(c,u,t){if(t&&t.skip===true){return;}var c=new c().getMetadata().getClass();var t=t||{};var T=sap.ui.test.qunit.createSettingsDomain(c,t.allPairTestValues||{});f("domain");for(var n in T){var l=T[n].length;var s=[];s.push("  ",n,":","[");for(var i=0;i<l;i++){s.push(T[n][i],",");}s.push("]");f(s.join(""));}function m(p,N){return p+N.substring(0,1).toUpperCase()+N.substring(1);}function a(C,S){var A={};for(var k in S){if(C[m("get",k)]){A[k]=C[m("get",k)]();}}return A;}var C;var S;var b=new sap.ui.test.qunit.AllPairsGenerator(T);var d=[];while(b.hasNext()){d.push(b.next());}var e=0;function h(){f("testNextCombination("+e+")");if(e>=d.length){f("last combination -> done");start();return;}C=new c(S);var A=a(C,S);deepEqual(A,S,"settings");C.placeAt(u);f("before explicit rerender");C.getUIArea().rerender();f("after explicit rerender");f("info");setTimeout(j,0);}stop(15000);h();function j(){f("continueAfterRendering("+e+")");var o=d[d.length-e-1];for(var k in o){var r=C[m("set",k)](o[k]);equal(C[m("get",k)](),o[k],"setter for property '"+k+"'");ok(r==C,"setter for property '"+k+"' supports chaining (after rendering)");}e=e+1;setTimeout(h,0);}};sap.ui.test.qunit.suppressErrors=function(s){if(s!==false){f("suppress global errors");}else{f("reenable global errors");}};sap.ui.test.qunit.RandomPairsGenerator=function(d){var C=0;for(var n in d){if(d[n]&&!(d[n]instanceof Array)){d[n]=[d[n]];}if(d[n]&&d[n].length>0){if(C==0){C=d[n].length;}else{C=C*d[n].length;}}}function a(i){var s={};for(var b in d){var l=d[b]&&d[b].length;if(l==1){s[b]=d[b][0];}else if(l>1){var c=i%l;s[b]=d[b][c];i=(i-c)/l;}}return s;}this.hasNext=function(){return true;};this.next=function(){return a(Math.floor(100*C*Math.random()));};};sap.ui.test.qunit.AllPairsGenerator=function(o){var p=[];for(var n in o){p.push({name:n,n:o[n].length,values:o[n]});}var N=p.length;var e=[];var h=[];var k=0;for(var a=0;a<N-1;a++){var l=p[a];for(var b=a+1;b<N;b++){var m=p[b];h[a*N+b]=k;for(var i=l.n*m.n;i>0;i--){e[k++]=0;}}}function r(a,b,v,c){return h[a*N+b]+v*p[b].n+c;}function s(){var v=[];function w(a,z){var B={va:z,pairs:0,redundant:0};for(var c=0;c<N;c++){var C;if(c<a){C=e[r(c,a,v[c],z)];}else if(c>a){var j=r(a,c,z,0),E=j+p[c].n;for(C=e[j];C>0&&i<E;j++){if(e[j]<C){C=e[j];}}}B.redundant=B.redundant+C;if(C==0){B.pairs++;}}return B;}for(var d=0;d<N;d++){var x=p[d];var y=w(d,0);for(var z=1;z<x.n;z++){var A=w(d,z);if(A.pairs>y.pairs||(A.pairs==y.pairs&&A.redundant<y.redundant)){y=A;}}v[d]=y.va;}return v;}this.hasNext=function(){return k>0;};var t;var u=-1;this.next=function(){t=s();u=0;var c={};for(var a=0;a<N;a++){for(var b=a+1;b<N;b++){var i=r(a,b,t[a],t[b]);if(e[i]==0){k--;u++;}e[i]++;}c[p[a].name]=p[a].values[t[a]];}return c;};this.lastPairs=function(){return u;};};}());return sap.ui.test.qunit;},true);
