/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2015 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
jQuery.sap.require("sap.ui.demokit.icex.model.Config");sap.ui.controller("sap.ui.demokit.icex.view.Master",{onInit:function(){var m=new sap.ui.model.json.JSONModel({listMode:(sap.ui.Device.system.phone)?"None":"SingleSelectMaster",listItemType:(sap.ui.Device.system.phone)?"Active":"Inactive",listPageSize:sap.ui.demokit.icex.model.Config.getPageSize(),showFooter:!sap.ui.Device.system.phone});this.getView().setModel(m,"ui");this.search();},search:function(){var s=this.getView().byId("search").getValue();var a=(s.length!==0);var i=this.getView().byId("iconList");var g=this.getView().byId("groupList");i.toggleStyleClass("invisible",!a);g.toggleStyleClass("invisible",a);var b=i.getBinding("items");if(a&&b!==undefined){var f=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,s);b.filter([f]);}},toFavorite:function(e){var b=this.getOwnerComponent().getEventBus();b.publish("nav","to",{id:"Favorite"});},selectIconList:function(e){this._showDetail(e.getParameter("listItem"));},pressIconListItem:function(e){this._showDetail(e.getSource());},_showDetail:function(i){var b=this.getOwnerComponent().getEventBus();b.publish("nav","to",{id:"Detail"});b.publish("app","RefreshDetail",{name:i.getBindingContext().getObject().name});},pressGroupListItem:function(e){var b=this.getOwnerComponent().getEventBus();b.publish("nav","to",{id:"Group",data:{context:e.getSource().getBindingContext()}});}});
